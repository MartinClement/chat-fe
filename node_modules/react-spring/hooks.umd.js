!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],e):e(t.ReactSpringHooks={},t.React,t.ReactDOM)}(this,function(t,g,m){"use strict";var A="default"in g?g.default:g;function x(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}m=m&&m.hasOwnProperty("default")?m.default:m;var e=void 0,n=void 0,R=[],S=function(t){return"undefined"!=typeof window&&window.requestAnimationFrame(t)},i=function(t){return"undefined"!=typeof window&&window.cancelAnimationFrame(t)},c=void 0,V=function(){return Date.now()},r=void 0,o=void 0,a=function(t,e){return n={fn:t,transform:e}},u=function(t){return R=t},s=function(t){return e=t},l=function(t){return c=t},f=function(t){return r=t},d=function(t){return o=t},p=Object.freeze({get bugfixes(){return e},get applyAnimatedValues(){return n},get colorNames(){return R},get requestFrame(){return S},get cancelFrame(){return i},get interpolation(){return c},get now(){return V},get defaultElement(){return r},get createAnimatedStyle(){return o},injectApplyAnimatedValues:a,injectColorNames:u,injectBugfixes:s,injectInterpolation:l,injectFrame:function(t,e){var r;return S=(r=[t,e])[0],i=r[1],r},injectNow:function(t){return V=t},injectDefaultElement:f,injectCreateAnimatedStyle:d});function h(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var F=function(){function t(){}var e=t.prototype;return e.attach=function(){},e.detach=function(){},e.getValue=function(){},e.getAnimatedValue=function(){return this.getValue()},e.addChild=function(t){},e.removeChild=function(t){},e.getChildren=function(){return[]},t}();function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var y=function(e){return Object.keys(e).map(function(t){return e[t]})},b=function(i){function t(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))||this).children=[],e.getChildren=function(){return e.children},e.getPayload=function(t){return void 0===t&&(t=void 0),void 0!==t&&e.payload?e.payload[t]:e.payload||v(v(e))},e}h(t,i);var e=t.prototype;return e.addChild=function(t){0===this.children.length&&this.attach(),this.children.push(t)},e.removeChild=function(t){var e=this.children.indexOf(t);this.children.splice(e,1),0===this.children.length&&this.detach()},t}(F),w=function(i){function t(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))||this).payload=[],e.getAnimatedValue=function(){return e.getValue()},e.attach=function(){return e.payload.forEach(function(t){return t instanceof F&&t.addChild(v(v(e)))})},e.detach=function(){return e.payload.forEach(function(t){return t instanceof F&&t.removeChild(v(v(e)))})},e}return h(t,i),t}(b),k=function(i){function t(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))||this).payload={},e.getAnimatedValue=function(){return e.getValue(!0)},e.attach=function(){return y(e.payload).forEach(function(t){return t instanceof F&&t.addChild(v(v(e)))})},e.detach=function(){return y(e.payload).forEach(function(t){return t instanceof F&&t.removeChild(v(v(e)))})},e}return h(t,i),t.prototype.getValue=function(t){void 0===t&&(t=!1);var e={};for(var r in this.payload){var n=this.payload[r];(!t||n instanceof F)&&(e[r]=n instanceof F?n[t?"getAnimatedValue":"getValue"]():n)}return e},t}(b),E=function(r){function t(t){var e;return e=r.call(this)||this,!(t=t||{}).transform||t.transform instanceof F||(t=n.transform(t)),e.payload=t,e}return h(t,r),t}(k),O={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var C=function(){function s(){}return s.create=function(t,e){if("function"==typeof t)return t;if(c&&t.output&&"string"==typeof t.output[0])return c(t);if(Array.isArray(t))return s.create({range:t,output:e});var r=t.output,n=t.range||[0,1],i=t.easing||function(t){return t},o="extend",a=t.map;void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var u="extend";return void 0!==t.extrapolateRight?u=t.extrapolateRight:void 0!==t.extrapolate&&(u=t.extrapolate),function(t){var e=function(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}(t,n);return function(t,e,r,n,i,o,a,u,s){var c=s?s(t):t;if(c<e){if("identity"===a)return c;"clamp"===a&&(c=e)}if(r<c){if("identity"===u)return c;"clamp"===u&&(c=r)}if(n===i)return n;if(e===r)return t<=e?n:i;e===-1/0?c=-c:r===1/0?c-=e:c=(c-e)/(r-e);c=o(c),n===-1/0?c=-c:i===1/0?c+=n:c=c*(i-n)+n;return c}(t,n[e],n[e+1],r[e],r[e+1],i,o,u,a)}},s}();var j="[-+]?\\d*\\.?\\d+",T=j+"%";function M(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var I=new RegExp("rgb"+M(j,j,j)),q=new RegExp("rgba"+M(j,j,j,j)),U=new RegExp("hsl"+M(j,T,T)),W=new RegExp("hsla"+M(j,T,T,j)),K=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,z=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,L=/^#([0-9a-fA-F]{6})$/,H=/^#([0-9a-fA-F]{8})$/;function D(t,e,r){return r<0&&(r+=1),1<r&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function G(t,e,r){var n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,o=D(i,n,t+1/3),a=D(i,n,t),u=D(i,n,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*u)<<8}function N(t){var e=parseInt(t,10);return e<0?0:255<e?255:e}function _(t){return(parseFloat(t)%360+360)%360/360}function $(t){var e=parseFloat(t);return e<0?0:1<e?255:Math.round(255*e)}function B(t){var e=parseFloat(t);return e<0?0:100<e?1:e/100}function Z(t){var e,r,n="number"==typeof(e=t)?e>>>0===e&&0<=e&&e<=4294967295?e:null:(r=L.exec(e))?parseInt(r[1]+"ff",16)>>>0:O.hasOwnProperty(e)?O[e]:(r=I.exec(e))?(N(r[1])<<24|N(r[2])<<16|N(r[3])<<8|255)>>>0:(r=q.exec(e))?(N(r[1])<<24|N(r[2])<<16|N(r[3])<<8|$(r[4]))>>>0:(r=K.exec(e))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+"ff",16)>>>0:(r=H.exec(e))?parseInt(r[1],16)>>>0:(r=z.exec(e))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+r[4]+r[4],16)>>>0:(r=U.exec(e))?(255|G(_(r[1]),B(r[2]),B(r[3])))>>>0:(r=W.exec(e))?(G(_(r[1]),B(r[2]),B(r[3]))|$(r[4]))>>>0:null;return null===n?t:"rgba("+((4278190080&(n=n||0))>>>24)+", "+((16711680&n)>>>16)+", "+((65280&n)>>>8)+", "+(255&n)/255+")"}var J=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Q=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,X=new RegExp("("+Object.keys(O).join("|")+")","g");var Y=function(i){function o(t,e,r){var n;return(n=i.call(this)||this).getValue=function(){var t;return(t=n).calc.apply(t,n.payload.map(function(t){return t.getValue()}))},n.updateConfig=function(t,e){return n.calc=C.create(t,e)},n.interpolate=function(t,e){return new o(v(v(n)),t,e)},n.payload=t instanceof w&&!t.updateConfig?t.payload:Array.isArray(t)?t:[t],n.calc=C.create(e,r),n}return h(o,i),o}(w);var tt=function(e){function t(t){var r;return(r=e.call(this)||this).setValue=function(t){return r.value=t},r.getValue=function(){return r.value},r.updateStyles=function(){return function e(t,r){"function"==typeof t.update?r.add(t):t.getChildren().forEach(function(t){return e(t,r)})}(v(v(r)),r.animatedStyles)},r.updateValue=function(t){return r.flush(r.value=t)},r.interpolate=function(t,e){return new Y(v(v(r)),t,e)},r.value=t,r.animatedStyles=new Set,r.done=!1,r.startPosition=t,r.lastPosition=t,r.lastVelocity=void 0,r.lastTime=void 0,r.controller=void 0,r}h(t,e);var r=t.prototype;return r.flush=function(){0===this.animatedStyles.size&&this.updateStyles(),this.animatedStyles.forEach(function(t){return t.update()})},r.prepare=function(t){void 0===this.controller&&(this.controller=t),this.controller===t&&(this.startPosition=this.value,this.lastPosition=this.value,this.lastVelocity=t.isActive?this.lastVelocity:void 0,this.lastTime=t.isActive?this.lastTime:void 0,this.done=!1,this.animatedStyles.clear())},t}(b),et=function(e){function r(t){var n;return(n=e.call(this)||this).setValue=function(r){Array.isArray(r)?r.length===n.payload.length&&r.forEach(function(t,e){return n.payload[e].setValue(t)}):n.payload.forEach(function(t,e){return n.payload[e].setValue(r)})},n.getValue=function(){return n.payload.map(function(t){return t.getValue()})},n.interpolate=function(t,e){return new Y(v(v(n)),t,e)},n.payload=t instanceof r?t.payload:t.map(function(t){return new tt(t)}),n}return h(r,e),r}(w);function rt(t,e){return null==t?e:t}function nt(t){return void 0!==t?Array.isArray(t)?t:[t]:[]}function it(t,e){if(typeof t!=typeof e)return!1;if("string"==typeof t||"number"==typeof t)return t===e;var r;for(r in t)if(!(r in e))return!1;for(r in e)if(t[r]!==e[r])return!1;return void 0!==r||t===e}function ot(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return"function"==typeof t?t.apply(void 0,r):t}function at(e){return Object.keys(e).map(function(t){return e[t]})}function ut(n){var t,i=((t=n).to,t.from,t.config,t.native,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.impl,t.inject,t.delay,t.attach,t.destroyed,t.interpolateTo,t.autoStart,t.ref,x(t,["to","from","config","native","onStart","onRest","onFrame","children","reset","reverse","force","immediate","impl","inject","delay","attach","destroyed","interpolateTo","autoStart","ref"])),e=Object.keys(n).reduce(function(t,e){var r;return void 0!==i[e]?t:P({},t,((r={})[e]=n[e],r))},{});return P({to:i},e)}function st(t,e){var r,n=e[0],i=e[1];return P({},t,((r={})[n]=new(Array.isArray(i)?et:tt)(i),r))}var ct=function(t){return"auto"===t};var lt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","Ms","Moz","O"];lt=Object.keys(lt).reduce(function(n,i){return ft.forEach(function(t){return n[(e=t,r=i,e+r.charAt(0).toUpperCase()+r.substring(1))]=n[i];var e,r}),n},lt);var dt={};d(function(t){return new E(t)}),f("div"),l(function(r){var n=r.output.map(function(t){return t.replace(Q,Z)}).map(function(t){return t.replace(X,Z)}),i=n[0].match(J).map(function(){return[]});n.forEach(function(t){t.match(J).forEach(function(t,e){return i[e].push(+t)})});var o=n[0].match(J).map(function(t,e){return C.create(P({},r,{output:i[e]}))});return function(t){var e=0;return n[0].replace(J,function(){return o[e++](t)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(t,e,r,n,i){return"rgba("+Math.round(e)+", "+Math.round(r)+", "+Math.round(n)+", "+i+")"})}}),u(O),s(function(d,p){var h=d.from,v=d.to,t=d.children;if(at(v).some(ct)||at(h).some(ct)){var e,r,n,i,o,a=t((r=(e=d).from,n=e.to,i=e.native,o=Object.entries(P({},r,n)),i?o.reduce(st,{}):P({},r,n)));if(a){var u=a.props.style;return A.createElement(a.type,P({key:a.key?a.key:void 0},a.props,{style:P({},u,{position:"absolute",visibility:"hidden"}),ref:function(t){if(t){var e,r,n=m.findDOMNode(t),i=getComputedStyle(n);if("border-box"===i.boxSizing)e=n.offsetWidth,r=n.offsetHeight;else{var o=parseFloat(i.paddingLeft||0)+parseFloat(i.paddingRight||0),a=parseFloat(i.paddingTop||0)+parseFloat(i.paddingBottom||0),u=parseFloat(i.borderLeftWidth||0)+parseFloat(i.borderRightWidth||0),s=parseFloat(i.borderTopWidth||0)+parseFloat(i.borderBottomWidth||0);e=n.offsetWidth-o-u,r=n.offsetHeight-a-s}var c=(l=e,f=r,function(t,e){var r,n=e[0],i=e[1];return P({},t,((r={})[n]="auto"===i?~n.indexOf("height")?f:l:i,r))});p(P({},d,{from:Object.entries(h).reduce(c,h),to:Object.entries(v).reduce(c,v)}))}var l,f}}))}}}),a(function(t,e){if(!t.nodeType||void 0===t.setAttribute)return!1;var r,n,i,o=e.style,a=e.children,u=e.scrollTop,s=e.scrollLeft,c=x(e,["style","children","scrollTop","scrollLeft"]);for(var l in void 0!==u&&(t.scrollTop=u),void 0!==s&&(t.scrollLeft=s),void 0!==a&&(t.textContent=a),o)if(o.hasOwnProperty(l)){var f=0===l.indexOf("--"),d=(n=o[r=l],i=f,null==n||"boolean"==typeof n||""===n?"":i||"number"!=typeof n||0===n||lt.hasOwnProperty(r)&&lt[r]?(""+n).trim():n+"px");"float"===l&&(l="cssFloat"),f?t.style.setProperty(l,d):t.style[l]=d}for(var p in c){var h=dt[p]||(dt[p]=p.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}));void 0!==t.getAttribute(h)&&t.setAttribute(h,c[p])}},function(t){return t});var pt=function(n){function t(t,e){var r;return r=n.call(this)||this,t.style&&(t=P({},t,{style:o(t.style)})),r.payload=t,r.update=e,r.attach(),r}return h(t,n),t}(k);function ht(i){var r=function(r){function t(t){var e;return(e=r.call(this)||this).callback=function(){e.node&&(!1===n.fn(e.node,e.propsAnimated.getAnimatedValue(),v(v(e)))&&e.forceUpdate())},e.attachProps(t),e}h(t,r);var e=t.prototype;return e.componentWillUnmount=function(){this.propsAnimated&&this.propsAnimated.detach()},e.setNativeProps=function(t){!1===n.fn(this.node,t,this)&&this.forceUpdate()},e.attachProps=function(t){t.forwardRef;var e=x(t,["forwardRef"]),r=this.propsAnimated;this.propsAnimated=new pt(e,this.callback),r&&r.detach()},e.shouldComponentUpdate=function(t){var e=t.style,r=x(t,["style"]),n=this.props,i=n.style;return(!it(x(n,["style"]),r)||!it(i,e))&&(this.attachProps(t),!0)},e.render=function(){var n=this,t=this.propsAnimated.getValue(),e=(t.scrollTop,t.scrollLeft,x(t,["scrollTop","scrollLeft"]));return A.createElement(i,P({},e,{ref:function(t){return n.node=(e=t,(r=n.props.forwardRef)&&("function"==typeof r?r(e):"object"==typeof r&&(r.current=e)),e);var e,r}}))},t}(A.Component);return A.forwardRef(function(t,e){return A.createElement(r,P({},t,{forwardRef:e}))})}var vt=!1,mt=new Set,gt=function t(){var e=V(),r=mt,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}for(var a=o,u=!0,s=!0,c=0;c<a.configs.length;c++){var l=a.configs[c];if(l.delay&&e-a.startTime<l.delay)u=!1;else{for(var f=void 0,d=void 0,p=void 0,h=0;h<l.animatedValues.length;h++){var v=l.animatedValues[h],m=l.fromValues[h],g=l.toValues[h],y=v.lastPosition,b=g instanceof F;if(b&&(g=g.getValue()),!v.done)if(l.immediate||"string"==typeof m||"string"==typeof g)v.updateValue(g),v.done=!0;else{if(s=!1,void 0!==l.duration)y=m+l.easing((e-a.startTime-l.delay)/l.duration)*(g-m),f=e>=a.startTime+l.delay+l.duration;else{d=void 0!==v.lastTime?v.lastTime:e,p=void 0!==v.lastVelocity?v.lastVelocity:l.initialVelocity,d+64<e&&(d=e);for(var w=Math.floor(e-d),k=0;k<w;++k){y+=1*(p+=1*((-l.tension*(y-g)+-l.friction*p)/l.mass)/1e3)/1e3}var A=!(!l.clamp||0===l.tension)&&(m<g?g<y:y<g),E=Math.abs(p)<=l.precision,x=0===l.tension||Math.abs(g-y)<=l.precision;f=A||E&&x,v.lastVelocity=p,v.lastTime=e}b&&!l.toValues[h].done&&(f=!1),f?(v.value!==g&&(y=g),v.done=!0):u=!1,v.updateValue(y),v.lastPosition=y}}!a.props.onFrame&&a.props.native||(a.animatedProps[l.name]=l.interpolation.getValue())}}!a.props.onFrame&&a.props.native||(!a.props.native&&a.onUpdate&&a.onUpdate(),a.props.onFrame&&a.props.onFrame(a.animatedProps)),u&&(mt.delete(a),a.debouncedOnEnd({finished:!0,noChange:s}))}mt.size?S(t):vt=!1},yt=function(t){mt.has(t)||mt.delete(t)},bt=function(){function t(t,e){var r=this;void 0===e&&(e={native:!0,interpolateTo:!0,autoStart:!0}),this.getValues=function(){return r.props.native?r.interpolations:r.animatedProps},this.dependents=new Set,this.isActive=!1,this.hasChanged=!1,this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[],this.frame=void 0,this.startTime=void 0,this.lastTime=void 0,this.update(P({},t,e))}var e=t.prototype;return e.update=function(t){var y=this;this.props=P({},this.props,t);var e=this.props.interpolateTo?ut(this.props):this.props,r=e.from,b=void 0===r?{}:r,n=e.to,i=void 0===n?{}:n,o=e.config,w=void 0===o?{}:o,a=e.delay,k=void 0===a?0:a,u=e.reverse,s=e.attach,A=e.reset,E=e.immediate,c=e.autoStart,l=e.ref;if(u){var f=[i,b];b=f[0],i=f[1]}this.hasChanged=!1;var x=s&&s(this),d=A?{}:this.merged;if(this.merged=P({},b,d,i),this.animations=Object.entries(this.merged).reduce(function(t,e,r){var n,i,o,a=e[0],u=e[1],s=!A&&t[a]||{},c="number"==typeof u,l="string"==typeof u&&!u.startsWith("#")&&!/\d/.test(u)&&!R[u],f=!c&&!l&&Array.isArray(u),d=void 0!==b[a]?b[a]:u,p=c||f?u:l?u:1,h=ot(w,a);if(x&&(p=x.animations[a].parent),it(s.changes,u))return t;if(y.hasChanged=!0,c||l)i=o=s.parent||new tt(d);else if(f)i=o=s.parent||new et(d);else{var v=s.interpolation&&s.interpolation.calc(s.parent.value);s.parent?(i=s.parent).setValue(0):i=new tt(0);var m={output:[void 0!==v?v:d,u]};s.interpolation?(o=s.interpolation,s.interpolation.updateConfig(m)):o=i.interpolate(m)}ot(E,a)&&i.setValue(u);var g=nt(i.getPayload());return g.forEach(function(t){return t.prepare(y)}),P({},t,((n={})[a]=P({},s,{name:a,parent:i,interpolation:o,changes:u,animatedValues:g,fromValues:nt(i.getValue()),toValues:nt(x?p.getPayload():p),immediate:ot(E,a),delay:rt(h.delay,k||0),initialVelocity:rt(h.velocity,0),clamp:rt(h.clamp,!1),precision:rt(h.precision,.01),tension:rt(h.tension,170),friction:rt(h.friction,26),mass:rt(h.mass,1),duration:h.duration,easing:rt(h.easing,function(t){return t})}),n))},this.animations),this.hasChanged)for(var p in this.configs=at(this.animations),this.animatedProps={},this.interpolations={},this.animations)this.interpolations[p]=this.animations[p].interpolation,this.animatedProps[p]=this.animations[p].interpolation.getValue();for(var h=arguments.length,v=new Array(1<h?h-1:0),m=1;m<h;m++)v[m-1]=arguments[m];l||!c&&!v.length||this.start.apply(this,v);var g=v[0],S=v[1];return this.onEnd="function"==typeof g&&g,this.onUpdate=S,this.getValues()},e.start=function(t,e){var r,n=this;return this.startTime=V(),this.isActive&&this.stop(),this.isActive=!0,this.onEnd="function"==typeof t&&t,this.onUpdate=e,this.props.onStart&&this.props.onStart(),r=this,mt.has(r)||(mt.add(r),vt||S(gt),vt=!0),new Promise(function(t){return n.resolve=t})},e.stop=function(t){void 0===t&&(t=!1),this.isActive=!1,yt(this),t&&at(this.animations).forEach(function(t){return t.changes=void 0}),this.debouncedOnEnd({finished:t})},e.destroy=function(){yt(this),this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[]},e.debouncedOnEnd=function(t){this.isActive=!1;var e=this.onEnd;this.onEnd=null,e&&e(t),this.resolve&&this.resolve()},t}();function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var kt=function(){function t(t){var a=this;this.frameId=0,this.next=function(e,r,n,t){void 0===n&&(n=!0),void 0===t&&(t=0);var i=e.config?e.config:Array.isArray(a.globalConfig)?a.globalConfig[t]:a.globalConfig;return a.onFrameRest=e.onRest,new Promise(function(t){a.instance.update(P({},a.globalProps,e,{config:i}),a.onEnd(a.onFrameRest,r,n,t)),a.ref&&a.instance.start(a.onEnd(a.onFrameRest,r,n,t)),a.instance.props.reset&&a.instance.props.native&&a.parentForceUpdate&&S(a.parentForceUpdate)})},this.start=function(t){if(a.globalOnEnd=t,a.currSlots){var e=function(){var i=++a.frameId;if(Array.isArray(a.currSlots))for(var o=Promise.resolve(),t=function(t){var e=t,r=a.currSlots[e],n=e===a.currSlots.length-1;o=o.then(function(){return i===a.frameId&&a.next(r,i,n,e)})},e=0;e<a.currSlots.length;e++)t(e);else if("function"==typeof a.currSlots){var r=0;a.currSlots(function(t,e){return void 0===e&&(e=!1),i===a.frameId&&a.next(t,i,e,r++)},function(){return S(function(){return a.instance.isActive&&a.instance.stop(!0)})})}else a.next(a.currSlots,i);return a.prevSlots=a.currSlots,{v:new Promise(function(t){return a.keyFrameEndResolver=t})}}();if("object"==typeof e)return e.v}},this.stop=function(t){void 0===t&&(t=!1),++a.frameId,a.instance.isActive&&a.instance.stop(t)},this.onEnd=function(e,r,n,i){return function(t){r===a.frameId&&(i&&i(),e&&e(a.merged),n&&a.globalOnEnd&&a.globalOnEnd(t),n&&a.keyFrameEndResolver&&a.keyFrameEndResolver(),t.finished&&n&&a.globalOnRest&&a.globalOnRest(a.merged))}},this.updateWithForceUpdate=function(t){a.parentForceUpdate=t;for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];a.update.apply(a,r)},this.update=function(t){a.currSlots=t;for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];!a.ref&&a.start.apply(a,r)},this.getValues=function(){return a.instance.getValues()},this.destroy=function(){return a.instance.destroy()};t.config,t.onRest;var e,r,n,i,o,u=x(t,["config","onRest"]);this.globalProps=(r=(e=t).native,n=e.onStart,i=e.onFrame,o=e.children,{native:r,onStart:n,reset:e.reset,onFrame:i,children:o,delay:e.delay,destroyed:e.destroyed,track:e.track}),this.globalConfig=t.config,this.globalOnRest=t.onRest,this.ref=t.ref,this.prevSlots={},this.currSlots=null,this.instance=new bt(P({},u,{native:!0}))}var e,r,n;return e=t,(r=[{key:"isActive",get:function(){return this.instance.isActive}},{key:"config",set:function(t){this.globalConfig=t}},{key:"merged",get:function(){return this.instance.merged}},{key:"props",get:function(){return this.instance.props}}])&&wt(e.prototype,r),n&&wt(e,n),t}(),At=function(l){return void 0===l&&(l="default"),function(t){var e=g.useState()[1],r="function"==typeof t,n=ot(t),i=n.onRest,o=(n.onKeyframesHalt,x(n,["onRest","onKeyframesHalt"])),a=g.useState(function(){return"keyframe"===l?new kt(o):new bt(o)})[0];g.useEffect(function(){return function(){return a.destroy()}},[]);var u=function(t){return t.finished&&i&&i(a.merged)};g.useImperativeMethods(o.ref,function(){return{start:function(){return a.start(u)},get isActive(){return a.isActive},stop:function(t,e){void 0===t&&(t=!1),a.isActive&&a.stop(t),e&&e()}}});var s=g.useCallback(function(t){a.props.reset&&"keyframe"===l?a.updateWithForceUpdate(e,t):a.update(t),a.props.ref||a.start(u),a.props.reset&&"default"===l&&S(e)},[i,a.props.ref]);g.useEffect(function(){!r&&s(o)});var c=a.getValues();return r?[c,s,function(t){return void 0===t&&(t=!1),a.stop(t)}]:c}},Et=At(),xt=function(v){return void 0===v&&(v="default"),function(n,t){var a=g.useState()[1],e="function"==typeof t,r=ot(t),i=r.config,u=r.reverse,o=r.onKeyframesHalt,s=r.onRest,c=x(r,["config","reverse","onKeyframesHalt","onRest"]),l=g.useMemo(function(){for(var r=[],t=function(t){var e=P({},c,{attach:0<t&&function(){return r[t-1]},config:ot(i,t)});r.push("keyframe"===v?new kt(e):new bt(e))},e=0;e<n;e++)t(e);return r},[n]),f=g.useRef();f.current=l,g.useEffect(function(){return function(){return f.current.forEach(function(t){return t.destroy()})}},[]);var d=o?function(e){return function(t){return t.finished&&s&&s(e.merged)}}:o||function(){return null};g.useImperativeMethods(c.ref,function(){return{start:function(){return Promise.all(Array.from(f.current).map(function(t,e){var r=t[1];return(u?0===e:f.current.size-1)&&d(r)}))},get isActive(){Array.from(f.current).some(function(t){return t[1].isActive})},stop:function(e){return void 0===e&&(e=!1),f.current.forEach(function(t){return t[1].stop(e)})}}});var p=g.useCallback(function(o){l.forEach(function(t,e){var r=u?0===e:l.length-1===e,n=l[u?e+1:e-1],i=P({},o,{attach:n&&function(){return n}});t.props.reset&&"keyframe"===v&&r?t.updateWithForceUpdate(a,i):t.update(i),t.props.ref||t.start(r&&d(t)),r&&t.props.reset&&S(a)})},[l,s,o,c.ref,u]);g.useEffect(function(){!e&&p(c)});var h=l.map(function(t){return t.getValues()});return e?[h,p,function(e){return void 0===e&&(e=!1),l.forEach(function(t){return t.stop(e)})}]:h}},St=xt(),Rt=0,Vt=function(t,e){return("function"==typeof e?t.map(e):nt(e)).map(String)},Ft=function(t){var e=t.items,r=t.keys,n=void 0===r?function(t){return t}:r,i=x(t,["items","keys"]);return P({items:e=nt(void 0!==e?e:null),keys:Vt(e,n)},i)};var Ot=function(k){return function(b,w){return void 0===w&&(w=null),function(){for(var t=A.useRef(!1),e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=2===r.length?r.reduceRight(function(t,e){return[t,e]}):r,o=i[0],a=void 0===o?"default":o,u=i[1],s=A.useState()[1],c=A.useRef(!w),l=function(){var t;if(Array.isArray(b)||"function"==typeof b)return{states:(t={},t[a]=b,t)};var e=b.onRest,r=b.config;return{states:x(b,["onRest","config"]),config:r,onRest:e}}(),f=l.states,d=l.config,p=l.onRest,h=function(){return P({},w,{native:!0,onRest:p,config:d})},v="number"==typeof u?[u,h]:[h],m=k.apply(void 0,v),g=m[0],y=m[1];m[2];return A.useEffect(function(){return t.current=!0,function(){return t.current=!1}},[]),A.useEffect(function(){c.current&&s(),c.current=!1,y(f[a])},[a]),c.current&&Array.isArray(g)?[]:g}}},Pt={spring:function(){return Ot(At("keyframe")).apply(void 0,arguments)},trail:function(){return Ot(xt("keyframe")).apply(void 0,arguments)}};var Ct=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(t,e){return t[e]=ht(e),t},ht);t.config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},t.animated=Ct,t.interpolate=function(t,e,r){return t&&new Y(t,e,r)},t.Globals=p,t.useSpring=Et,t.useTrail=St,t.useTransition=function(n){var t=Ft(n),e=t.items,r=t.keys,f=t.from,d=t.initial,a=t.onRest,u=t.onDestroyed,p=t.ref,s=g.useRef(!1);g.useEffect(function(){return s.current=!0,function(){return s.current=!1}},[]);var h=g.useRef(!s.current&&new Map([]));g.useEffect(function(){return function(){return Array.from(h.current).map(function(t){var e=t[0];t[1].ctrl.destroy(),h.current.delete(e)})}},[]);var c=g.useState()[1],v=g.useRef({first:!1,activeSlots:{},deleted:[],current:{},transitions:[],prevProps:null});function m(t){var e=t.finished,r=this.item,n=this.destroyed,i=this.slot,o=this.ctrl;s.current&&e&&(n&&u&&u(r),a&&a(r,i,o.merged),Array.from(h.current).some(function(t){return t[1].ctrl.isActive})||v.current.transitions.some(function(t){return t.destroyed})&&S(function(){v.current=P({},v.current,{deleted:[],transitions:v.current.transitions.filter(function(t){return!t.destroyed})}),c()}))}return g.useMemo(function(){var t=function(t,e){var r=t.prevProps,n=x(t,["prevProps"]),i=Ft(r||{}).keys,o=Ft(e),a=o.keys,u=o.items,s=o.unique,c=o.trail,l=void 0===c?0:c,f=o.update,d=o.enter,p=o.leave,h=o.config,v=new Set(a),m=new Set(i),g=[].concat(n.deleted),y=P({},n.current),b=n.transitions.filter(function(t){var e=t.destroyed,r=t.originalKey;return!e&&!v.has(r)}),w=a.filter(function(t){return!m.has(t)}),k=i.filter(function(t){return v.has(t)}),A=!l&&e.delay||0;l&&(A-=l),w.forEach(function(e){var t=a.indexOf(e),r=u[t];s&&g.find(function(t){return t.originalKey===e})&&(g=g.filter(function(t){return t.originalKey!==e})),y[e]={item:r,state:"enter",trail:A+=l,key:s?String(e):Rt++,originalKey:e,destroyed:!1,config:ot(h,r,"enter"),to:ot(d,r)}}),b.forEach(function(t){var e=t.item,r=x(t,["item"]),n=i.indexOf(e.originalKey);g.unshift(P({},r,{item:e,state:"leave",left:i[Math.max(0,n-1)],right:i[Math.min(i.length,n+1)],destroyed:!0,trail:A+=l,config:ot(h,e,"leave"),to:ot(p,e)})),delete y[e.originalKey]}),k.forEach(function(t){var e=a.indexOf(t),r=u[e];y[t]=P({},y[t],{item:r,state:"update",destroyed:!1,trail:A+=l,config:ot(h,r,"update"),to:ot(f,r)})});var E=a.map(function(t){return y[t]});return g.forEach(function(t){var e,r=t.left,n=t.right,i=x(t,["left","right"]);-1!==(e=E.findIndex(function(t){return t.originalKey===r}))&&(e+=1),-1===e&&(e=E.findIndex(function(t){return t.originalKey===n})),e=Math.max(0,e),E=[].concat(E.slice(0,e),[i],E.slice(e))}),{deleted:g,updated:k,current:y,transitions:E}}(v.current,n),e=t.transitions,r=x(t,["transitions"]);e.forEach(function(t){var e=t.state,r=t.to,n=t.config,i=t.trail,o=t.key,a=t.item,u=t.destroyed;!h.current.has(o)&&h.current.set(o,{ctrl:new kt(P({},f,v.current.first&&d,{config:n,delay:i,native:!0,ref:p})),item:a,destroyed:u,slot:e});var s=h.current.get(o);s.item=a,s.destroyed=u,s.slot=e;var c=s.ctrl;if("update"===e||e!==v.current.activeSlots[o]){v.current.activeSlots[o]=e;var l=m.bind(s);n&&(c.config=n),c.update(r,l)}}),v.current=P({},v.current,{transitions:e,prevProps:n,first:!0},r)},[e,Vt(e,r).join("")]),g.useImperativeMethods(p,function(){return{start:function(){return Promise.all(Array.from(h.current).map(function(t){var e=t[1];return e.ctrl.start(m.bind(e))}))},stop:function(r,t){Array.from(h.current).forEach(function(t){var e=t[1].ctrl;return e.isActive&&e.stop(r)}),t&&t()}}}),v.current.transitions.map(function(t){var e=t.item,r=t.state,n=t.key;return{item:e,key:n,state:r,props:h.current.get(n).ctrl.getValues()}})},t.useKeyframes=Pt,t.useChain=function(e,r,n){void 0===n&&(n=1e3);var i=g.useRef([]);g.useEffect(function(){if(r)i.current.forEach(clearTimeout),i.current=[],e.forEach(function(t,e){return i.current.push(setTimeout(function(){return t.current.start()},n*r[e]))});else{var t=e.reduce(function(t,e){var r=e.current;return t.then(function(){return r&&new Promise(function(t){return r.stop(!0,t)})})},Promise.resolve());e.reduce(function(t,e){var r=e.current;return t.then(function(){return r&&r.start()})},t)}},e)},Object.defineProperty(t,"__esModule",{value:!0})});
